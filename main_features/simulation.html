

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>karabo.simulation &mdash; Karabo-Pipeline 0.34.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=bbce7252"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="karabo.imaging.image" href="imaging.html" />
    <link rel="prev" title="Parallel processing with Karabo" href="../parallel_processing.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Users</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation_user.html">Installation (User)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../container.html">Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parallel_processing.html">Parallel processing with Karabo</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Simulation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">karabo.simulation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#classes">Classes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel"><code class="docutils literal notranslate"><span class="pre">SkyModel</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel.__init__"><code class="docutils literal notranslate"><span class="pre">SkyModel.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel.add_point_sources"><code class="docutils literal notranslate"><span class="pre">SkyModel.add_point_sources()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel.close"><code class="docutils literal notranslate"><span class="pre">SkyModel.close()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel.compute"><code class="docutils literal notranslate"><span class="pre">SkyModel.compute()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel.convert_to_backend"><code class="docutils literal notranslate"><span class="pre">SkyModel.convert_to_backend()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel.explore_sky"><code class="docutils literal notranslate"><span class="pre">SkyModel.explore_sky()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel.filter_by_column"><code class="docutils literal notranslate"><span class="pre">SkyModel.filter_by_column()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel.filter_by_radius"><code class="docutils literal notranslate"><span class="pre">SkyModel.filter_by_radius()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel.filter_by_radius_euclidean_flat_approximation"><code class="docutils literal notranslate"><span class="pre">SkyModel.filter_by_radius_euclidean_flat_approximation()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel.get_GLEAM_Sky"><code class="docutils literal notranslate"><span class="pre">SkyModel.get_GLEAM_Sky()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel.get_MALS_DR1V3_Sky"><code class="docutils literal notranslate"><span class="pre">SkyModel.get_MALS_DR1V3_Sky()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel.get_MIGHTEE_Sky"><code class="docutils literal notranslate"><span class="pre">SkyModel.get_MIGHTEE_Sky()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel.get_OSKAR_sky"><code class="docutils literal notranslate"><span class="pre">SkyModel.get_OSKAR_sky()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel.get_fits_catalog"><code class="docutils literal notranslate"><span class="pre">SkyModel.get_fits_catalog()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel.get_sample_simulated_catalog"><code class="docutils literal notranslate"><span class="pre">SkyModel.get_sample_simulated_catalog()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel.get_sky_model_from_fits"><code class="docutils literal notranslate"><span class="pre">SkyModel.get_sky_model_from_fits()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel.get_sky_model_from_h5_to_xarray"><code class="docutils literal notranslate"><span class="pre">SkyModel.get_sky_model_from_h5_to_xarray()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel.get_wcs"><code class="docutils literal notranslate"><span class="pre">SkyModel.get_wcs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel.read_from_file"><code class="docutils literal notranslate"><span class="pre">SkyModel.read_from_file()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel.read_healpix_file_to_sky_model_array"><code class="docutils literal notranslate"><span class="pre">SkyModel.read_healpix_file_to_sky_model_array()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel.save_sky_model_as_csv"><code class="docutils literal notranslate"><span class="pre">SkyModel.save_sky_model_as_csv()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel.set_wcs"><code class="docutils literal notranslate"><span class="pre">SkyModel.set_wcs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel.setup_default_wcs"><code class="docutils literal notranslate"><span class="pre">SkyModel.setup_default_wcs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel.sky_test"><code class="docutils literal notranslate"><span class="pre">SkyModel.sky_test()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel.sky_test_LE"><code class="docutils literal notranslate"><span class="pre">SkyModel.sky_test_LE()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel.to_np_array"><code class="docutils literal notranslate"><span class="pre">SkyModel.to_np_array()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel.to_sky_xarray"><code class="docutils literal notranslate"><span class="pre">SkyModel.to_sky_xarray()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#karabo.simulation.observation.Observation"><code class="docutils literal notranslate"><span class="pre">Observation</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#karabo.simulation.observation.ObservationLong"><code class="docutils literal notranslate"><span class="pre">ObservationLong</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.observation.ObservationLong.__init__"><code class="docutils literal notranslate"><span class="pre">ObservationLong.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#karabo.simulation.telescope.Telescope"><code class="docutils literal notranslate"><span class="pre">Telescope</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.telescope.Telescope.__init__"><code class="docutils literal notranslate"><span class="pre">Telescope.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.telescope.Telescope.add_antenna_to_station"><code class="docutils literal notranslate"><span class="pre">Telescope.add_antenna_to_station()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.telescope.Telescope.add_station"><code class="docutils literal notranslate"><span class="pre">Telescope.add_station()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.telescope.Telescope.ang_res"><code class="docutils literal notranslate"><span class="pre">Telescope.ang_res()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.telescope.Telescope.constructor"><code class="docutils literal notranslate"><span class="pre">Telescope.constructor()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.telescope.Telescope.create_baseline_cut_telescope"><code class="docutils literal notranslate"><span class="pre">Telescope.create_baseline_cut_telescope()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.telescope.Telescope.get_OSKAR_telescope"><code class="docutils literal notranslate"><span class="pre">Telescope.get_OSKAR_telescope()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.telescope.Telescope.get_baseline_lengths"><code class="docutils literal notranslate"><span class="pre">Telescope.get_baseline_lengths()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.telescope.Telescope.get_stations_wgs84"><code class="docutils literal notranslate"><span class="pre">Telescope.get_stations_wgs84()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.telescope.Telescope.max_baseline"><code class="docutils literal notranslate"><span class="pre">Telescope.max_baseline()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.telescope.Telescope.name"><code class="docutils literal notranslate"><span class="pre">Telescope.name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.telescope.Telescope.plot_telescope"><code class="docutils literal notranslate"><span class="pre">Telescope.plot_telescope()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.telescope.Telescope.plot_telescope_OSKAR"><code class="docutils literal notranslate"><span class="pre">Telescope.plot_telescope_OSKAR()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.telescope.Telescope.read_OSKAR_tm_file"><code class="docutils literal notranslate"><span class="pre">Telescope.read_OSKAR_tm_file()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.telescope.Telescope.write_to_disk"><code class="docutils literal notranslate"><span class="pre">Telescope.write_to_disk()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#karabo.simulation.interferometer.InterferometerSimulation"><code class="docutils literal notranslate"><span class="pre">InterferometerSimulation</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.interferometer.InterferometerSimulation.__init__"><code class="docutils literal notranslate"><span class="pre">InterferometerSimulation.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.interferometer.InterferometerSimulation.run_simulation"><code class="docutils literal notranslate"><span class="pre">InterferometerSimulation.run_simulation()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.interferometer.InterferometerSimulation.set_ionosphere"><code class="docutils literal notranslate"><span class="pre">InterferometerSimulation.set_ionosphere()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.interferometer.InterferometerSimulation.simulate_foreground_vis"><code class="docutils literal notranslate"><span class="pre">InterferometerSimulation.simulate_foreground_vis()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#karabo.simulation.east_north_coordinate.EastNorthCoordinate"><code class="docutils literal notranslate"><span class="pre">EastNorthCoordinate</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.east_north_coordinate.EastNorthCoordinate.__init__"><code class="docutils literal notranslate"><span class="pre">EastNorthCoordinate.__init__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-karabo.simulation.line_emission">Line emission package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#karabo.simulation.line_emission.CircleSkyRegion"><code class="docutils literal notranslate"><span class="pre">CircleSkyRegion</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.line_emission.CircleSkyRegion.center"><code class="docutils literal notranslate"><span class="pre">CircleSkyRegion.center</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#karabo.simulation.line_emission.CircleSkyRegion.radius"><code class="docutils literal notranslate"><span class="pre">CircleSkyRegion.radius</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#karabo.simulation.line_emission.line_emission_pipeline"><code class="docutils literal notranslate"><span class="pre">line_emission_pipeline()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#karabo.simulation.line_emission_helpers.convert_frequency_to_z"><code class="docutils literal notranslate"><span class="pre">convert_frequency_to_z()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#karabo.simulation.line_emission_helpers.convert_z_to_frequency"><code class="docutils literal notranslate"><span class="pre">convert_z_to_frequency()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#karabo.simulation.line_emission_helpers.freq_channels"><code class="docutils literal notranslate"><span class="pre">freq_channels()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Imaging</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="imaging.html">karabo.imaging.image</a></li>
<li class="toctree-l1"><a class="reference internal" href="base_imaging.html">karabo.imaging.imager_base</a></li>
<li class="toctree-l1"><a class="reference internal" href="oskar_imaging.html">karabo.imaging.imager_oskar</a></li>
<li class="toctree-l1"><a class="reference internal" href="rascil_imaging.html">karabo.imaging.imager_rascil</a></li>
<li class="toctree-l1"><a class="reference internal" href="wsclean_imaging.html">karabo.imaging.imager_wsclean</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Source Detection</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="sourcedetection.html">karabo.sourcedetection</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Utilities</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../utilities/utils.html">karabo.util package</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Development Documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Karabo-Pipeline</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">karabo.simulation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/main_features/simulation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="karabo-simulation">
<h1>karabo.simulation<a class="headerlink" href="#karabo-simulation" title="Link to this heading"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>This module contains the functionality required for an interferometer simulation. This includes defining a sky model and selecting a telescope.</p>
</section>
<section id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="karabo.simulation.sky_model.SkyModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SkyModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sources:</span> <span class="pre">~numpy.ndarray[~typing.Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">~numpy.dtype[~numpy.float64]]</span> <span class="pre">|</span> <span class="pre">~numpy.ndarray[~typing.Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">~numpy.dtype[~numpy.object_]]</span> <span class="pre">|</span> <span class="pre">~xarray.core.dataarray.DataArray</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wcs:</span> <span class="pre">~astropy.wcs.wcs.WCS</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision:</span> <span class="pre">~typing.Type[~numpy.float64]</span> <span class="pre">=</span> <span class="pre">&lt;class</span> <span class="pre">'numpy.float64'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h5_file_connection:</span> <span class="pre">~h5py._hl.files.File</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#karabo.simulation.sky_model.SkyModel" title="Link to this definition"></a></dt>
<dd><p>Class containing all information of the to be observed Sky.</p>
<p><cite>SkyModel.sources</cite> is a <cite>xarray.DataArray</cite>
(<a class="reference external" href="https://docs.xarray.dev/en/stable/generated/xarray.DataArray.html">https://docs.xarray.dev/en/stable/generated/xarray.DataArray.html</a>).
<cite>np.ndarray</cite> are also supported as input type for <cite>SkyModel.sources</cite>,
however, the values in <cite>SkyModel.sources are converted to `xarray.DataArray</cite>.</p>
<p><cite>SkyModel.compute</cite> method is used to load the data into memory as a numpy array.
It should be called after all the filtering and other operations are completed
and to avoid doing the same calculation multiple them when e.g. on a cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sources</strong> – <p>List of all point sources in the sky as <cite>xarray.DataArray</cite>.
The source_ids reside in <cite>SkyModel.source_ids</cite> if provided
through <cite>xarray.sources.coords</cite> with an arbitrary string key
as index or <cite>np.ndarray</cite> as idx SOURCES_COLS.
A single point source is described using the following col-order:</p>
<ul>
<li><p>[0] right ascension (deg)</p></li>
<li><p>[1] declination (deg)</p></li>
<li><p>[2] stokes I Flux (Jy)</p></li>
<li><p>[3] stokes Q Flux (Jy): defaults to 0</p></li>
<li><p>[4] stokes U Flux (Jy): defaults to 0</p></li>
<li><p>[5] stokes V Flux (Jy): defaults to 0</p></li>
<li><p>[6] reference_frequency (Hz): defaults to 0</p></li>
<li><p>[7] spectral index (N/A): defaults to 0</p></li>
<li><p>[8] rotation measure (rad / m^2): defaults to 0</p></li>
<li><p>[9] major axis FWHM (arcsec): defaults to 0</p></li>
<li><p>[10] minor axis FWHM (arcsec): defaults to 0</p></li>
<li><p>[11] position angle (deg): defaults to 0</p></li>
<li><p>[12] true redshift: defaults to 0</p></li>
<li><p>[13] observed redshift: defaults to 0 (only necessary for line emission)</p></li>
<li><p>[14] object-id: just for <cite>np.ndarray</cite>             it is removed in the <cite>xr.DataArray</cite></p></li>
</ul>
<p>and exists then in <cite>xr.DataArray.coords</cite> as index.</p>
</p></li>
<li><p><strong>wcs</strong> – World Coordinate System (WCS) object representing the coordinate
transformation between pixel coordinates and celestial coordinates
(e.g., right ascension and declination).</p></li>
<li><p><strong>precision</strong> – The precision of numerical values used in the SkyModel.
Has to be of type <a href="#id1"><span class="problematic" id="id2">np.float_</span></a>.</p></li>
<li><p><strong>h5_file_connection</strong> – An open connection to an HDF5 (h5) file
that can be used to store or retrieve data related to the SkyModel.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.sky_model.SkyModel.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sources:</span> <span class="pre">~numpy.ndarray[~typing.Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">~numpy.dtype[~numpy.float64]]</span> <span class="pre">|</span> <span class="pre">~numpy.ndarray[~typing.Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">~numpy.dtype[~numpy.object_]]</span> <span class="pre">|</span> <span class="pre">~xarray.core.dataarray.DataArray</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wcs:</span> <span class="pre">~astropy.wcs.wcs.WCS</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision:</span> <span class="pre">~typing.Type[~numpy.float64]</span> <span class="pre">=</span> <span class="pre">&lt;class</span> <span class="pre">'numpy.float64'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h5_file_connection:</span> <span class="pre">~h5py._hl.files.File</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#karabo.simulation.sky_model.SkyModel.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize a SkyModel object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sources</strong> – {xarray.DataArray, np.ndarray}, optional
List of all point sources in the sky.
It can be provided as an <cite>xarray.DataArray</cite> or <cite>np.ndarray</cite>.
If provided as an <cite>np.ndarray</cite>, the values are converted to
<cite>xarray.DataArray</cite>.</p></li>
<li><p><strong>wcs</strong> – WCS, optional
World Coordinate System (WCS) object representing the coordinate
transformation between pixel coordinates and celestial coordinates.</p></li>
<li><p><strong>precision</strong> – np.dtype, optional
The precision of numerical values used in the SkyModel.
It should be a NumPy data type (e.g., np.float64).</p></li>
<li><p><strong>h5_file_connection</strong> – h5py.File, optional
An open connection to an HDF5 (h5) file
that can be used to store or retrieve data related to the SkyModel.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.sky_model.SkyModel.add_point_sources">
<span class="sig-name descname"><span class="pre">add_point_sources</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sources</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">float64</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">object_</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">DataArray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#karabo.simulation.sky_model.SkyModel.add_point_sources" title="Link to this definition"></a></dt>
<dd><p>Add new point sources to the sky model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sources</strong> – <p><cite>np.ndarray</cite> with shape (number of sources, 1 + SOURCES_COLS),
where you can place the “source_id” at index SOURCES_COLS.
OR an <cite>xarray.DataArray</cite> with shape (number of sources, SOURCES_COLS),
where you can place the “source_id” at <cite>xarray.DataArray.coord</cite>
or use <cite>SkyModel.source_ids</cite> later.</p>
<p>The column indices correspond to:</p>
<ul class="simple">
<li><p>[0] right ascension (deg)</p></li>
<li><p>[1] declination (deg)</p></li>
<li><p>[2] stokes I Flux (Jy)</p></li>
<li><p>[3] stokes Q Flux (Jy): defaults to 0</p></li>
<li><p>[4] stokes U Flux (Jy): defaults to 0</p></li>
<li><p>[5] stokes V Flux (Jy): defaults to 0</p></li>
<li><p>[6] reference_frequency (Hz): defaults to 0</p></li>
<li><p>[7] spectral index (N/A): defaults to 0</p></li>
<li><p>[8] rotation measure (rad / m^2): defaults to 0</p></li>
<li><p>[9] major axis FWHM (arcsec): defaults to 0</p></li>
<li><p>[10] minor axis FWHM (arcsec): defaults to 0</p></li>
<li><p>[11] position angle (deg): defaults to 0</p></li>
<li><p>[12] true redshift: defaults to 0</p></li>
<li><p>[13] observed redshift: defaults to 0</p></li>
<li><p>[14] source id (object): is in <cite>SkyModel.source_ids</cite> if provided</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.sky_model.SkyModel.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#karabo.simulation.sky_model.SkyModel.close" title="Link to this definition"></a></dt>
<dd><p>Closes the connection to the HDF5 file if it is open and
sets the <cite>h5_file_connection</cite> attribute to <cite>None</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.sky_model.SkyModel.compute">
<span class="sig-name descname"><span class="pre">compute</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#karabo.simulation.sky_model.SkyModel.compute" title="Link to this definition"></a></dt>
<dd><p>Loads the lazy data into a numpy array which is then
wrapped in a <cite>xarray.DataArray</cite>. It performs the computation
necessary to obtain the actual data and stores it in the <cite>_sources</cite> attribute.
After the computation is complete,
it calls the <cite>close</cite> method to close the connection to the HDF5 file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.sky_model.SkyModel.convert_to_backend">
<span class="sig-name descname"><span class="pre">convert_to_backend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">SimulatorBackend.OSKAR</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">SimulatorBackend.OSKAR</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desired_frequencies_hz</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_bandwidth_hz</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel" title="karabo.simulation.sky_model.SkyModel"><span class="pre">SkyModel</span></a></span></span><a class="headerlink" href="#karabo.simulation.sky_model.SkyModel.convert_to_backend" title="Link to this definition"></a></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">convert_to_backend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">SimulatorBackend.RASCIL</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desired_frequencies_hz</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">float64</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_bandwidth_hz</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">SkyComponent</span><span class="p"><span class="pre">]</span></span></span></span></dt>
<dd><p>Convert an existing SkyModel instance into a format acceptable
by a desired backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backend</strong> – <p>Determines how to return the SkyModel source catalog.</p>
<ul>
<li><p>OSKAR: return the current SkyModel instance, since methods                     in Karabo support OSKAR-formatted source np.array values.</p></li>
<li><p>RASCIL: convert the current source array into a                     list of RASCIL SkyComponent instances.</p></li>
</ul>
</p></li>
<li><p><strong>desired_frequencies_hz</strong> – List of frequencies corresponding to start
of desired frequency channels. This field is required
to convert sources into RASCIL SkyComponents.
The array contains starting frequencies for the desired channels.
E.g. [100e6, 110e6] corresponds to 2 frequency channels,
which start at 100 MHz and 110 MHz, both with a bandwidth of 10 MHz.</p></li>
<li><p><strong>channel_bandwidth_hz</strong> – Used if desired_frequencies_hz has
only one element. Otherwise, bandwidth is determined as
the delta between the first two entries in desired_frequencies_hz.</p></li>
<li><p><strong>verbose</strong> – Determines whether to display additional print statements.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A SkyModel suitable for your chosen backend, e.g. OSKAR</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel" title="karabo.simulation.sky_model.SkyModel">SkyModel</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.sky_model.SkyModel.explore_sky">
<span class="sig-name descname"><span class="pre">explore_sky</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">phase_center:</span> <span class="pre">~typing.List[int]</span> <span class="pre">|</span> <span class="pre">~typing.List[float],</span> <span class="pre">stokes:</span> <span class="pre">~typing.Literal['Stokes</span> <span class="pre">I',</span> <span class="pre">'Stokes</span> <span class="pre">Q',</span> <span class="pre">'Stokes</span> <span class="pre">U',</span> <span class="pre">'Stokes</span> <span class="pre">V']</span> <span class="pre">=</span> <span class="pre">'Stokes</span> <span class="pre">I',</span> <span class="pre">idx_to_plot:</span> <span class="pre">~numpy.ndarray[~typing.Any,</span> <span class="pre">~numpy.dtype[~numpy.int64]]</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">xlim:</span> <span class="pre">~typing.Tuple[int</span> <span class="pre">|</span> <span class="pre">float,</span> <span class="pre">int</span> <span class="pre">|</span> <span class="pre">float]</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">ylim:</span> <span class="pre">~typing.Tuple[int</span> <span class="pre">|</span> <span class="pre">float,</span> <span class="pre">int</span> <span class="pre">|</span> <span class="pre">float]</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">figsize:</span> <span class="pre">~typing.Tuple[int</span> <span class="pre">|</span> <span class="pre">float,</span> <span class="pre">int</span> <span class="pre">|</span> <span class="pre">float]</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">title:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">xlabel:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">ylabel:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">cfun:</span> <span class="pre">~typing.Callable[[...],</span> <span class="pre">bool</span> <span class="pre">|</span> <span class="pre">int</span> <span class="pre">|</span> <span class="pre">~numpy.integer</span> <span class="pre">|</span> <span class="pre">float</span> <span class="pre">|</span> <span class="pre">~numpy.floating</span> <span class="pre">|</span> <span class="pre">~numpy.ndarray[~typing.Any,</span> <span class="pre">~numpy.dtype[~numpy.int64</span> <span class="pre">|</span> <span class="pre">~numpy.float64]]]</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">&lt;ufunc</span> <span class="pre">'log10'&gt;,</span> <span class="pre">cmap:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">'plasma',</span> <span class="pre">cbar_label:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">with_labels:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False,</span> <span class="pre">wcs:</span> <span class="pre">~astropy.wcs.wcs.WCS</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">wcs_enabled:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">True,</span> <span class="pre">filename:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">block:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False,</span> <span class="pre">**kwargs:</span> <span class="pre">~typing.Any</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#karabo.simulation.sky_model.SkyModel.explore_sky" title="Link to this definition"></a></dt>
<dd><p>A scatter plot of the <cite>SkyModel</cite> (self) where the sources
are projected according to the <cite>phase_center</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>phase_center</strong> – [RA,DEC]</p></li>
<li><p><strong>stokes</strong> – <cite>SkyModel</cite> stoke flux</p></li>
<li><p><strong>idx_to_plot</strong> – If you want to plot only a subset of the sources, set
the indices here.</p></li>
<li><p><strong>xlim</strong> – RA-limit of plot</p></li>
<li><p><strong>ylim</strong> – DEC-limit of plot</p></li>
<li><p><strong>figsize</strong> – figsize as tuple</p></li>
<li><p><strong>title</strong> – plot title</p></li>
<li><p><strong>xlabel</strong> – x-axis label</p></li>
<li><p><strong>ylabel</strong> – y-axis label</p></li>
<li><p><strong>cfun</strong> – flux scale transformation function for scatter-coloring.
Defaults to np.log10</p></li>
<li><p><strong>cmap</strong> – matplotlib color map</p></li>
<li><p><strong>cbar_label</strong> – color bar label</p></li>
<li><p><strong>with_labels</strong> – Plots object ID’s if set?</p></li>
<li><p><strong>wcs</strong> – If you want to use a custom astropy.wcs, ignores <cite>phase_center</cite> if
set</p></li>
<li><p><strong>wcs_enabled</strong> – Use wcs transformation?</p></li>
<li><p><strong>filename</strong> – Set to path/fname to save figure (set extension to fname to
overwrite .png default)</p></li>
<li><p><strong>block</strong> – Whether or not plotting should block the rest of the program</p></li>
<li><p><strong>kwargs</strong> – matplotlib kwargs for scatter &amp; Collections, e.g. customize <cite>s</cite>,
<cite>vmin</cite> or <cite>vmax</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.sky_model.SkyModel.filter_by_column">
<span class="sig-name descname"><span class="pre">filter_by_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_val</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_val</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel" title="karabo.simulation.sky_model.SkyModel"><span class="pre">SkyModel</span></a></span></span><a class="headerlink" href="#karabo.simulation.sky_model.SkyModel.filter_by_column" title="Link to this definition"></a></dt>
<dd><p>Filters the sky based on a specific column index</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>col_idx</strong> – Column index to filter by</p></li>
<li><p><strong>min_val</strong> – Minimum value for the column</p></li>
<li><p><strong>max_val</strong> – Maximum value for the column</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Filtered copy of the sky</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel" title="karabo.simulation.sky_model.SkyModel">SkyModel</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.sky_model.SkyModel.filter_by_radius">
<span class="sig-name descname"><span class="pre">filter_by_radius</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inner_radius_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outer_radius_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ra0_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec0_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="k"><span class="pre">False</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel" title="karabo.simulation.sky_model.SkyModel"><span class="pre">SkyModel</span></a></span></span><a class="headerlink" href="#karabo.simulation.sky_model.SkyModel.filter_by_radius" title="Link to this definition"></a></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">filter_by_radius</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inner_radius_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outer_radius_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ra0_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec0_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel" title="karabo.simulation.sky_model.SkyModel"><span class="pre">SkyModel</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">int64</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span></dt>
<dd><p>Filters the sky according to an inner and outer circle from the phase center</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inner_radius_deg</strong> – Inner radius in degrees</p></li>
<li><p><strong>outer_radius_deg</strong> – Outer radius in degrees</p></li>
<li><p><strong>ra0_deg</strong> – Phase center right ascension</p></li>
<li><p><strong>dec0_deg</strong> – Phase center declination</p></li>
<li><p><strong>indices</strong> – Optional parameter, if set to True,
we also return the indices of the filtered sky copy</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Filtered copy of the sky</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel" title="karabo.simulation.sky_model.SkyModel">SkyModel</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.sky_model.SkyModel.filter_by_radius_euclidean_flat_approximation">
<span class="sig-name descname"><span class="pre">filter_by_radius_euclidean_flat_approximation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inner_radius_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outer_radius_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ra0_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec0_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="k"><span class="pre">False</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel" title="karabo.simulation.sky_model.SkyModel"><span class="pre">SkyModel</span></a></span></span><a class="headerlink" href="#karabo.simulation.sky_model.SkyModel.filter_by_radius_euclidean_flat_approximation" title="Link to this definition"></a></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">filter_by_radius_euclidean_flat_approximation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inner_radius_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outer_radius_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ra0_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec0_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel" title="karabo.simulation.sky_model.SkyModel"><span class="pre">SkyModel</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">int64</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span></dt>
<dd><p>Filters sources within an annular region using a flat Euclidean distance
approximation suitable for large datasets managed by Xarray.</p>
<p>This function is designed for scenarios where the dataset size precludes
in-memory spherical geometry calculations. By leveraging a flat Euclidean
approximation, it permits the use of Xarray’s out-of-core computation
capabilities, thus bypassing the limitations imposed by the incompatibility
of <cite>astropy.visualization.wcsaxes.SphericalCircle</cite> with Xarray’s data
structures. Although this method trades off geometric accuracy against
computational efficiency, it remains a practical choice for large angular
fields where the curvature of the celestial sphere can be reasonably
neglected.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inner_radius_deg</strong> – IntFloat
The inner radius of the annular search region, in degrees.</p></li>
<li><p><strong>outer_radius_deg</strong> – IntFloat
The outer radius of the annular search region, in degrees.</p></li>
<li><p><strong>ra0_deg</strong> – IntFloat
The right ascension of the search region’s center, in degrees.</p></li>
<li><p><strong>dec0_deg</strong> – IntFloat
The declination of the search region’s center, in degrees.</p></li>
<li><p><strong>indices</strong> – bool, optional
If True, returns the indices of the filtered sources in addition to the
SkyModel object. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The filtered SkyModel object, and optionally the indices of the filtered
sources if <cite>indices</cite> is set to True.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>SkyModel or tuple of (SkyModel, NDArray[<a href="#id3"><span class="problematic" id="id4">np.int_</span></a>])</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="../karabo.html#karabo.error.KaraboSkyModelError" title="karabo.error.KaraboSkyModelError"><strong>KaraboSkyModelError</strong></a> – If the <cite>sources</cite> attribute is not</p></li>
<li><p><strong>populated in the SkyModel instance prior to invoking this function.</strong> – </p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Use this function for large sky models where a full spherical geometry
calculation is not feasible due to memory constraints. It is particularly
beneficial when working with Xarray and Dask, facilitating scalable data
analysis on datasets that are too large to fit into memory.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.sky_model.SkyModel.get_GLEAM_Sky">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_GLEAM_Sky</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_TSkyModel</span></span></span><a class="headerlink" href="#karabo.simulation.sky_model.SkyModel.get_GLEAM_Sky" title="Link to this definition"></a></dt>
<dd><p>Creates a SkyModel containing GLEAM sources from
<a class="reference external" href="https://vizier.cfa.harvard.edu/">https://vizier.cfa.harvard.edu/</a> service with more than 300,000 sources
on different frequency-bands.</p>
<p>The survey was created using MWA-telescope and covers the entire sky south
of dec +30.</p>
<p>GLEAM’s frequency-range: 72-231 MHz</p>
<p>The required .fits file will get downloaded and cached on disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_freq</strong> – Set min-frequency in Hz for pre-filtering.</p></li>
<li><p><strong>max_freq</strong> – Set max-frequency in Hz for pre-filtering.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>GLEAM sky as <cite>SkyModel</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.sky_model.SkyModel.get_MALS_DR1V3_Sky">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_MALS_DR1V3_Sky</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_TSkyModel</span></span></span><a class="headerlink" href="#karabo.simulation.sky_model.SkyModel.get_MALS_DR1V3_Sky" title="Link to this definition"></a></dt>
<dd><p>Creates a SkyModel containing “MALS V3” catalogue, of 715,760 sources,
where the catalogue and it’s information are from ‘<a class="reference external" href="https://mals.iucaa.in/">https://mals.iucaa.in/</a>’.</p>
<p>The MeerKAT Absorption Line Survey (MALS) consists of 1655 hrs of MeerKAT time
(anticipated raw data ~ 1.7 PB) to carry out the most sensitive search of HI
and OH absorption lines at 0&lt;z&lt;2, the redshift range over which most of the
cosmic evolution in the star formation rate density takes place. The MALS
survey is described in ‘Gupta et al. (2016)’.</p>
<p>MALS sky-coverage consists of 392 sources trackings between all RA-angles
and DEC[-78.80,32.35] and different radius.</p>
<p>MALS’s frequency-range: 902-1644 MHz.</p>
<p>For publications, please honor their work by citing them as follows:
- If you describe MALS or associated science, please cite ‘Gupta et al. 2016’.
- If you use DR1 data products, please cite ‘Deka et al. 2024’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_freq</strong> – Set min-frequency in Hz for pre-filtering.</p></li>
<li><p><strong>max_freq</strong> – Set max-frequency in Hz for pre-filtering.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>MALS sky as <cite>SkyModel</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.sky_model.SkyModel.get_MIGHTEE_Sky">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_MIGHTEE_Sky</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_TSkyModel</span></span></span><a class="headerlink" href="#karabo.simulation.sky_model.SkyModel.get_MIGHTEE_Sky" title="Link to this definition"></a></dt>
<dd><p>Creates a SkyModel containing “MIGHTEE Continuum Early Science L1 catalogue”
sources from <a class="reference external" href="https://archive.sarao.ac.za">https://archive.sarao.ac.za</a> service, consisting of 9896 sources.</p>
<p>MIGHTEE is an extragalactic radio-survey carried out using MeerKAT-telescope.
It covers roughly the area between RA[149.40,150.84] and DEC[1.49,2.93].</p>
<p>MIGHTEES’s frequency-range: 1304-1375 MHz</p>
<p>The required .fits file will get downloaded and cached on disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_freq</strong> – Set min-frequency in Hz for pre-filtering.</p></li>
<li><p><strong>max_freq</strong> – Set max-frequency in Hz for pre-filtering.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>MIGHTEE sky as <cite>SkyModel</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.sky_model.SkyModel.get_OSKAR_sky">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_OSKAR_sky</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sky</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">float64</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">object_</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">DataArray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel" title="karabo.simulation.sky_model.SkyModel"><span class="pre">SkyModel</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'single'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'double'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'double'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Sky</span></span></span><a class="headerlink" href="#karabo.simulation.sky_model.SkyModel.get_OSKAR_sky" title="Link to this definition"></a></dt>
<dd><p>Get OSKAR sky model object from the defined Sky Model</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>OSKAR sky model</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.sky_model.SkyModel.get_fits_catalog">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_fits_catalog</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Table</span></span></span><a class="headerlink" href="#karabo.simulation.sky_model.SkyModel.get_fits_catalog" title="Link to this definition"></a></dt>
<dd><p>Gets astropy.table.table.Table from a .fits catalog</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> – Location of the .fits file</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Table derived from fits catalog</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>astropy.table.table.Table</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.sky_model.SkyModel.get_sample_simulated_catalog">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_sample_simulated_catalog</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_TSkyModel</span></span></span><a class="headerlink" href="#karabo.simulation.sky_model.SkyModel.get_sample_simulated_catalog" title="Link to this definition"></a></dt>
<dd><p>Downloads a sample simulated HI source catalog and generates a sky
model using the downloaded data. The catalog size is around 8MB.</p>
<p>Source: The simulated catalog data was provided by Luis Machado
(<a class="reference external" href="https://github.com/lmachadopolettivalle">https://github.com/lmachadopolettivalle</a>) in collaboration
with the ETHZ Cosmology Research Group.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><p>The corresponding sky model.
The sky model contains the following information:</p>
<blockquote>
<div><ul class="simple">
<li><p>’Right Ascension’ (ra): The right ascension coordinates                 of the celestial objects.</p></li>
<li><p>’Declination’ (dec): The declination coordinates of the                 celestial objects.</p></li>
<li><p>’Flux’ (i): The flux measurements of the celestial objects.</p></li>
<li><p>’Observed Redshift’: Additional observed redshift information                 of the celestial objects.</p></li>
</ul>
</div></blockquote>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel" title="karabo.simulation.sky_model.SkyModel">SkyModel</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Other properties such as ‘stokes_q’, ‘stokes_u’, ‘stokes_v’,
‘ref_freq’, ‘spectral_index’, ‘rm’, ‘major’, ‘minor’, ‘pa’, and ‘id’
are not included in the sky model.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.sky_model.SkyModel.get_sky_model_from_fits">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_sky_model_from_fits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fits_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix_mapping</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../karabo.simulation.html#karabo.simulation.sky_model.SkyPrefixMapping" title="karabo.simulation.sky_model.SkyPrefixMapping"><span class="pre">SkyPrefixMapping</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit_mapping</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UnitBase</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units_sources</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../karabo.simulation.html#karabo.simulation.sky_model.SkySourcesUnits" title="karabo.simulation.sky_model.SkySourcesUnits"><span class="pre">SkySourcesUnits</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoded_freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UnitBase</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">Hashable</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memmap</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_TSkyModel</span></span></span><a class="headerlink" href="#karabo.simulation.sky_model.SkyModel.get_sky_model_from_fits" title="Link to this definition"></a></dt>
<dd><p>Creates a sky-model from <cite>fits_file</cite>. The following formats are supported:</p>
<ul class="simple">
<li><p>Each data-array of the .fits file maps to a single <cite>SkyModel.sources</cite>         column.</p></li>
<li><p>Frequency of some columns is encoded in col-names of the .fits file.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fits_file</strong> – The .fits file to create the sky-model from.</p></li>
<li><p><strong>prefix_mapping</strong> – Formattable col-names of .fits file. If <cite>encoded_freq</cite>
is not None, the freq-encoded field-values must have ‘{0}’
as placeholder.</p></li>
<li><p><strong>unit_mapping</strong> – Mapping from col-unit to <cite>astropy.unit</cite>.</p></li>
<li><p><strong>units_sources</strong> – Units of <cite>SkyModel.sources</cite>.</p></li>
<li><p><strong>min_freq</strong> – Filter by min-freq in Hz. May slow down reading of
file significantly.</p></li>
<li><p><strong>max_freq</strong> – Filter by max-freq in Hz. May slow down reading of
file significantly.</p></li>
<li><p><strong>encoded_freq</strong> – Unit of col-name encoded frequency, if the .fits file has
it’s ref-frequency encoded in the col-names.</p></li>
<li><p><strong>chunks</strong> – Coerce the array’s data into dask arrays with the given chunks.
Might be useful for reading larger-than-memory .fits files.</p></li>
<li><p><strong>memmap</strong> – Whether to use memory mapping when opening the FITS file.
Allows for reading of larger-than-memory files.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Sky model with according sources from <cite>fits_file</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel" title="karabo.simulation.sky_model.SkyModel">SkyModel</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.sky_model.SkyModel.get_sky_model_from_h5_to_xarray">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_sky_model_from_h5_to_xarray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix_mapping</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../karabo.simulation.html#karabo.simulation.sky_model.SkyPrefixMapping" title="karabo.simulation.sky_model.SkyPrefixMapping"><span class="pre">SkyPrefixMapping</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_as</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'numpy_array'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'dask_array'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'dask_array'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'auto'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_TSkyModel</span></span></span><a class="headerlink" href="#karabo.simulation.sky_model.SkyModel.get_sky_model_from_h5_to_xarray" title="Link to this definition"></a></dt>
<dd><p>Load a sky model dataset from an HDF5 file and
converts it to an xarray DataArray.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – Path to the input HDF5 file.</p></li>
<li><p><strong>prefix_mapping</strong> – Mapping column names to their
corresponding dataset paths in the HDF5 file.
If the column is not present in the HDF5 file,
set its value to None.</p></li>
<li><p><strong>load_as</strong> – Literal[“numpy_array”, “dask_array”], default=”dask_array”
What type of array to load the data inside the xarray Data Array as.</p></li>
<li><p><strong>chunksize</strong> – Union[int, str], default=auto
Chunk size for Dask arrays. This determines the size of chunks that
the data will be divided into when read from the file. Can be an
integer or ‘auto’. If ‘auto’, Dask will choose an optimal chunk size.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A 2D xarray DataArray containing the sky model data.
Rows represent data points and columns represent
different data fields (‘ra’, ‘dec’, …).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xr.DataArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.sky_model.SkyModel.get_wcs">
<span class="sig-name descname"><span class="pre">get_wcs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">WCS</span></span></span><a class="headerlink" href="#karabo.simulation.sky_model.SkyModel.get_wcs" title="Link to this definition"></a></dt>
<dd><p>Gets the currently active world coordinate system astropy.wcs
For details see <a class="reference external" href="https://docs.astropy.org/en/stable/wcs/index.html">https://docs.astropy.org/en/stable/wcs/index.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>world coordinate system</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>WCS</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.sky_model.SkyModel.read_from_file">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">read_from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_TSkyModel</span></span></span><a class="headerlink" href="#karabo.simulation.sky_model.SkyModel.read_from_file" title="Link to this definition"></a></dt>
<dd><p>Read a CSV file in to create a SkyModel.
The CSV should have the following columns</p>
<ul class="simple">
<li><p>right ascension (deg)</p></li>
<li><p>declination (deg)</p></li>
<li><p>stokes I Flux (Jy)</p></li>
<li><p>stokes Q Flux (Jy): if no information available, set to 0</p></li>
<li><p>stokes U Flux (Jy): if no information available, set to 0</p></li>
<li><p>stokes V Flux (Jy): if no information available, set to 0</p></li>
<li><p>reference_frequency (Hz): if no information available, set to 0</p></li>
<li><p>spectral index (N/A): if no information available, set to 0</p></li>
<li><p>rotation measure (rad / m^2): if no information available, set to 0</p></li>
<li><p>major axis FWHM (arcsec): if no information available, set to 0</p></li>
<li><p>minor axis FWHM (arcsec): if no information available, set to 0</p></li>
<li><p>position angle (deg): if no information available, set to 0</p></li>
<li><p>true redshift: defaults to 0</p></li>
<li><p>observed redshift: defaults to 0</p></li>
<li><p>source id (object): is in <cite>SkyModel.source_ids</cite> if provided</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> – file to read in</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>SkyModel</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.sky_model.SkyModel.read_healpix_file_to_sky_model_array">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">read_healpix_file_to_sky_model_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">polarisation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../karabo.simulation.html#karabo.simulation.sky_model.Polarisation" title="karabo.simulation.sky_model.Polarisation"><span class="pre">Polarisation</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">DataArray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#karabo.simulation.sky_model.SkyModel.read_healpix_file_to_sky_model_array" title="Link to this definition"></a></dt>
<dd><p>Read a healpix file in hdf5 format.
The file should have the map keywords:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> – hdf5 file path (healpix format)</p></li>
<li><p><strong>channel</strong> – Channels of observation (between 0 and maximum numbers of
channels of observation)</p></li>
<li><p><strong>polarisation</strong> – 0 = Stokes I, 1 = Stokes Q, 2 = Stokes U, 3 = Stokes  V</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Array converted from healpix to 2-D array of RADEC</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xr.DataArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.sky_model.SkyModel.save_sky_model_as_csv">
<span class="sig-name descname"><span class="pre">save_sky_model_as_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#karabo.simulation.sky_model.SkyModel.save_sky_model_as_csv" title="Link to this definition"></a></dt>
<dd><p>Save source array into a csv.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> – path to save the csv file in.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.sky_model.SkyModel.set_wcs">
<span class="sig-name descname"><span class="pre">set_wcs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wcs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">WCS</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#karabo.simulation.sky_model.SkyModel.set_wcs" title="Link to this definition"></a></dt>
<dd><p>Sets a new world coordinate system astropy.wcs
For details see <a class="reference external" href="https://docs.astropy.org/en/stable/wcs/index.html">https://docs.astropy.org/en/stable/wcs/index.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>wcs</strong> – world coordinate system</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.sky_model.SkyModel.setup_default_wcs">
<span class="sig-name descname"><span class="pre">setup_default_wcs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phase_center</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[0,</span> <span class="pre">0]</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">WCS</span></span></span><a class="headerlink" href="#karabo.simulation.sky_model.SkyModel.setup_default_wcs" title="Link to this definition"></a></dt>
<dd><p>Defines a default world coordinate system astropy.wcs
For more details see <a class="reference external" href="https://docs.astropy.org/en/stable/wcs/index.html">https://docs.astropy.org/en/stable/wcs/index.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>phase_center</strong> – ra-dec location</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The new world coordinate system</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>WCS</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.sky_model.SkyModel.sky_test">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sky_test</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_TSkyModel</span></span></span><a class="headerlink" href="#karabo.simulation.sky_model.SkyModel.sky_test" title="Link to this definition"></a></dt>
<dd><p>Construction of a sky model which can be used for testing and visualizing the
simulation with equal distributed point sources around the phase center ra=20,
deg=-30.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The test sky model.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel" title="karabo.simulation.sky_model.SkyModel">SkyModel</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.sky_model.SkyModel.sky_test_LE">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sky_test_LE</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_TSkyModel</span></span></span><a class="headerlink" href="#karabo.simulation.sky_model.SkyModel.sky_test_LE" title="Link to this definition"></a></dt>
<dd><p>Construction of a sky model which can be used for testing and visualizing the
line emission simulation with equal distributed point sources around the phase
center ra=20, deg=-30. With redshift values randomly distributed between 0.8
and 1.0.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The test sky model for a line emission simulation.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel" title="karabo.simulation.sky_model.SkyModel">SkyModel</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.sky_model.SkyModel.to_np_array">
<span class="sig-name descname"><span class="pre">to_np_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_obj_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">float64</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">object_</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#karabo.simulation.sky_model.SkyModel.to_np_array" title="Link to this definition"></a></dt>
<dd><p>Gets the sources as np.ndarray</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>with_obj_ids</strong> – Option whether object ids should be included or not</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the sources of the SkyModel as np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.sky_model.SkyModel.to_sky_xarray">
<span class="sig-name descname"><span class="pre">to_sky_xarray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sources</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">float64</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">object_</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">DataArray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataArray</span></span></span><a class="headerlink" href="#karabo.simulation.sky_model.SkyModel.to_sky_xarray" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Converts a <cite>np.ndarray</cite> or <cite>xr.DataArray</cite> to <cite>SkyModel.sources</cite></dt><dd><p>compatible <cite>xr.DataArray</cite>.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sources</strong> – Array to convert. Col-order see <cite>SkyModel</cite> description.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>SkyModel.sources</cite> compatible <cite>xr.DataArray</cite>.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="karabo.simulation.observation.Observation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Observation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Tracking'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_frequency_hz</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date_and_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">timedelta</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">datetime.timedelta(seconds=14400)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_channels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frequency_increment_hz</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phase_centre_ra_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phase_centre_dec_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_time_steps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#karabo.simulation.observation.Observation" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="karabo.simulation.observation.ObservationLong">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ObservationLong</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Tracking'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_frequency_hz</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date_and_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">timedelta</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">datetime.timedelta(seconds=14400)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_channels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frequency_increment_hz</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phase_centre_ra_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phase_centre_dec_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_time_steps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_days</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#karabo.simulation.observation.ObservationLong" title="Link to this definition"></a></dt>
<dd><p>This class allows the use of several observations on different
days over a certain period of time within one day.
If only ONE observation is desired, even if it takes a little longer,
this is already possible using <cite>Observation</cite>.
This class extends <cite>Observation</cite> so its parameters (except <cite>length</cite>)
are not discussed here.
<cite>length</cite> is little different, which describes the duration of ONE observation,
whose maximum duration for <cite>ObservationLong</cite> is 24h.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>number_of_days</strong> – Number of successive days to observe</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.observation.ObservationLong.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Tracking'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_frequency_hz</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date_and_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">timedelta</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">datetime.timedelta(seconds=14400)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_channels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frequency_increment_hz</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phase_centre_ra_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phase_centre_dec_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_time_steps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_days</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#karabo.simulation.observation.ObservationLong.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_date_and_time</strong> (<em>Union</em><em>[</em><em>datetime</em><em>, </em><em>str</em><em>]</em>) – Start time UTC and date for
the observation. Strings are converted to datetime objects
using <cite>datetime.fromisoformat</cite>.</p></li>
<li><p><strong>mode</strong> (<em>str</em><em>, </em><em>optional</em>) – TODO. Defaults to “Tracking”.</p></li>
<li><p><strong>start_frequency_hz</strong> (<em>IntFloat</em><em>, </em><em>optional</em>) – The frequency at the start of the
first channel in Hz.Defaults to 0.</p></li>
<li><p><strong>length</strong> (<em>timedelta</em><em>, </em><em>optional</em>) – Length of observation.
Defaults to timedelta(hours=4).</p></li>
<li><p><strong>number_of_channels</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of channels / bands to use.
Defaults to 1.</p></li>
<li><p><strong>frequency_increment_hz</strong> (<em>IntFloat</em><em>, </em><em>optional</em>) – Frequency increment between
successive channels in Hz. Defaults to 0.</p></li>
<li><p><strong>phase_centre_ra_deg</strong> (<em>IntFloat</em><em>, </em><em>optional</em>) – Right Ascension of
the observation pointing (phase centre) in degrees.
Defaults to 0.</p></li>
<li><p><strong>phase_centre_dec_deg</strong> (<em>IntFloat</em><em>, </em><em>optional</em>) – Declination of the observation
pointing (phase centre) in degrees.
Defaults to 0.</p></li>
<li><p><strong>number_of_time_steps</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of time steps in the output
data during the observation length. This corresponds to the number of
correlator dumps for interferometer simulations, and the number of beam
pattern snapshots for beam pattern simulations.
Defaults to 1.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="karabo.simulation.telescope.Telescope">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Telescope</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">longitude</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latitude</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">altitude</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#karabo.simulation.telescope.Telescope" title="Link to this definition"></a></dt>
<dd><p>WGS84 longitude and latitude and altitude in metres centre of the telescope.png
centre. A telescope is described as follows:</p>
<p>Each row represents one station, with the elements being the horizontal x (east),
horizontal y (north), and horizontal z (up) coordinates,
followed by the errors in horizontal y (east), horizontal y (north),
and horizontal z (up).
Example: [[x, y, z, error_x, error_y, error_z], […]]</p>
<dl class="simple">
<dt>centre_longitude<span class="classifier">float</span></dt><dd><p>WGS84 longitude at the center of the telescope.</p>
</dd>
<dt>centre_latitude<span class="classifier">float</span></dt><dd><p>WGS84 latitude at the center of the telescope.</p>
</dd>
<dt>centre_altitude<span class="classifier">float</span></dt><dd><p>Altitude (in meters) at the center of the telescope.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.telescope.Telescope.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">longitude</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latitude</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">altitude</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#karabo.simulation.telescope.Telescope.__init__" title="Link to this definition"></a></dt>
<dd><p>__init__ method</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>longitude</strong> (<em>float</em>) – WGS84 longitude at the center of the telescope.</p></li>
<li><p><strong>latitude</strong> (<em>float</em>) – WGS84 latitude at the center of the telescope.</p></li>
<li><p><strong>altitude</strong> (<em>float</em><em>, </em><em>optional</em>) – Altitude (in meters) at the center of the telescope, default is 0.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.telescope.Telescope.add_antenna_to_station">
<span class="sig-name descname"><span class="pre">add_antenna_to_station</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horizontal_x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horizontal_y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horizontal_z</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horizontal_x_coordinate_error</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horizontal_y_coordinate_error</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horizontal_z_coordinate_error</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#karabo.simulation.telescope.Telescope.add_antenna_to_station" title="Link to this definition"></a></dt>
<dd><p>Add a new antenna to an existing station</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station_index</strong> – Index of station to add antenna to</p></li>
<li><p><strong>horizontal_x</strong> – east coordinate relative to the station center in metres</p></li>
<li><p><strong>horizontal_y</strong> – north coordinate relative to the station center in metres</p></li>
<li><p><strong>horizontal_z</strong> – altitude of antenna</p></li>
<li><p><strong>horizontal_x_coordinate_error</strong> – east coordinate error
relative to the station center in metres</p></li>
<li><p><strong>horizontal_y_coordinate_error</strong> – north coordinate error
relative to the station center in metres</p></li>
<li><p><strong>horizontal_z_coordinate_error</strong> – altitude of antenna error</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.telescope.Telescope.add_station">
<span class="sig-name descname"><span class="pre">add_station</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">horizontal_x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horizontal_y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horizontal_z</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horizontal_x_coordinate_error</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horizontal_y_coordinate_error</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horizontal_z_coordinate_error</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#karabo.simulation.telescope.Telescope.add_station" title="Link to this definition"></a></dt>
<dd><p>Specify the stations as relative to the centre position
:param horizontal_x: east coordinate relative to centre
:param horizontal_y: north coordinate relative to centre
:param horizontal_z: up coordinate
:param horizontal_x_coordinate_error: east coordinate error
:param horizontal_y_coordinate_error: north coordinate error
:param horizontal_z_coordinate_error: up coordinate error</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.telescope.Telescope.ang_res">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ang_res</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#karabo.simulation.telescope.Telescope.ang_res" title="Link to this definition"></a></dt>
<dd><p>Calculates angular resolution in arcsec.</p>
<p>Angular resolution: θ=λ/B
Wavelength: λ=c/f
B: Max baseline in meters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>freq</strong> – Frequency [Hz].</p></li>
<li><p><strong>b</strong> – Max baseline in meters (e.g. from <cite>max_baseline</cite>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Angular resolution in arcsec.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.telescope.Telescope.constructor">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">constructor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'ACA'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ALMA'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ATCA'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'CARMA'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'NGVLA'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'PDBI'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'SKA-LOW-AA0.5'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'SKA-LOW-AA1'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'SKA-LOW-AA2'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'SKA-LOW-AA4'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'SKA-LOW-AAstar'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'SKA-MID-AA0.5'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'SKA-MID-AA1'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'SKA-MID-AA2'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'SKA-MID-AA4'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'SKA-MID-AAstar'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'SMA'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'VLA'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Enum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">SimulatorBackend.OSKAR</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">SimulatorBackend.OSKAR</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#karabo.simulation.telescope.Telescope" title="karabo.simulation.telescope.Telescope"><span class="pre">Telescope</span></a></span></span><a class="headerlink" href="#karabo.simulation.telescope.Telescope.constructor" title="Link to this definition"></a></dt>
<dt class="sig sig-object py">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">constructor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'EXAMPLE'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'MeerKAT'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ASKAP'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'LOFAR'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'MKATPlus'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'SKA1LOW'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'SKA1MID'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'VLBA'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'WSRT'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">SimulatorBackend.OSKAR</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">SimulatorBackend.OSKAR</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#karabo.simulation.telescope.Telescope" title="karabo.simulation.telescope.Telescope"><span class="pre">Telescope</span></a></span></span></dt>
<dt class="sig sig-object py">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">constructor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'LOWBD2'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'LOWBD2-CORE'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'LOW'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'LOWR3'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'LOWR4'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'LOW-AA0.5'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'MID'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'MIDR5'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'MID-AA0.5'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'MEERKAT+'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ASKAP'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'LOFAR'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'VLAA'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'VLAA_north'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">SimulatorBackend.RASCIL</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">SimulatorBackend.RASCIL</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#karabo.simulation.telescope.Telescope" title="karabo.simulation.telescope.Telescope"><span class="pre">Telescope</span></a></span></span></dt>
<dd><p>Main constructor to obtain a pre-configured telescope instance.
:param name: Name of the desired telescope configuration.</p>
<blockquote>
<div><p>This name, together with the backend, is used as the key
to look up the correct telescope specification file.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>version</strong> – Version details required for some
telescope configurations. Defaults to None.</p></li>
<li><p><strong>backend</strong> – Underlying package to be used for the telescope configuration,
since each package stores the arrays in a different format.
Defaults to OSKAR.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the combination of input parameters is invalid.
Specifically, if the requested telescope requires a version,
but an invalid version (or no version) is provided,
or if the requested telescope name is not
supported by the requested backend.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Telescope instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.telescope.Telescope.create_baseline_cut_telescope">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_baseline_cut_telescope</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lcut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">integer</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">floating</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hcut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">integer</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">floating</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#karabo.simulation.telescope.Telescope" title="karabo.simulation.telescope.Telescope"><span class="pre">Telescope</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">tm_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#karabo.simulation.telescope.Telescope.create_baseline_cut_telescope" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Returns a telescope model for telescope <cite>tel</cite> with baseline lengths</dt><dd><p>only between <cite>lcut</cite> and <cite>hcut</cite> metres.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lcut</strong> – Lower cut</p></li>
<li><p><strong>hcut</strong> – Higher cut</p></li>
<li><p><strong>tel</strong> – Telescope to cut off</p></li>
<li><p><strong>tm_path</strong> – .tm file-path to save the cut-telescope.
<cite>tm_path</cite> will get overwritten if it already exists.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>.tm file-path &amp; station-name
conversion (e.g. station055 -&gt; station009)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.telescope.Telescope.get_OSKAR_telescope">
<span class="sig-name descname"><span class="pre">get_OSKAR_telescope</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Telescope</span></span></span><a class="headerlink" href="#karabo.simulation.telescope.Telescope.get_OSKAR_telescope" title="Link to this definition"></a></dt>
<dd><p>Retrieve the OSKAR Telescope object from the karabo.Telescope object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>OSKAR Telescope object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.telescope.Telescope.get_baseline_lengths">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_baseline_lengths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stations_wgs84</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">float64</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">float64</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#karabo.simulation.telescope.Telescope.get_baseline_lengths" title="Link to this definition"></a></dt>
<dd><p>Gets the interferometer baselines distances in meters.</p>
<p>It’s euclidean distance (aka geocentric), not geodesic.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>baselines_wgs84</strong> – nx3 wgs84 baselines.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Interferometer baselines dists in meters.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.telescope.Telescope.get_stations_wgs84">
<span class="sig-name descname"><span class="pre">get_stations_wgs84</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">float64</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#karabo.simulation.telescope.Telescope.get_stations_wgs84" title="Link to this definition"></a></dt>
<dd><p>Gets the coordinates of the interferometer stations in WGS84.</p>
<p>This function assumes that <cite>self.stations</cite> provides WGS84 coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Stations lon[deg]/lat[deg]/alt[m] (nx3).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.telescope.Telescope.max_baseline">
<span class="sig-name descname"><span class="pre">max_baseline</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float64</span></span></span><a class="headerlink" href="#karabo.simulation.telescope.Telescope.max_baseline" title="Link to this definition"></a></dt>
<dd><p>Gets the longest baseline in meters.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Length of longest baseline.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="karabo.simulation.telescope.Telescope.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#karabo.simulation.telescope.Telescope.name" title="Link to this definition"></a></dt>
<dd><p>Gets the telescope name (if available).</p>
<p>It’s just the file-name of the referred telescope-file without the ending.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Telescope name or <cite>None</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.telescope.Telescope.plot_telescope">
<span class="sig-name descname"><span class="pre">plot_telescope</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#karabo.simulation.telescope.Telescope.plot_telescope" title="Link to this definition"></a></dt>
<dd><p>Plot the telescope according to which backend is being used,
and save the resulting image into a file, if any is provided.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.telescope.Telescope.plot_telescope_OSKAR">
<span class="sig-name descname"><span class="pre">plot_telescope_OSKAR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#karabo.simulation.telescope.Telescope.plot_telescope_OSKAR" title="Link to this definition"></a></dt>
<dd><p>Plot the telescope and all its stations and antennas with longitude altitude</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.telescope.Telescope.read_OSKAR_tm_file">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">read_OSKAR_tm_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#karabo.simulation.telescope.Telescope" title="karabo.simulation.telescope.Telescope"><span class="pre">Telescope</span></a></span></span><a class="headerlink" href="#karabo.simulation.telescope.Telescope.read_OSKAR_tm_file" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Reads an OSKAR telescope model from disk and</dt><dd><p>returns an object of karabo.simulation.telescope.Telescope</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> – Path to a valid telescope model (extemsion * .tm)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A karabo.simulation.telescope.Telescope object. Importantn:
The object has the backend set to SimulatorBackend.OSKAR.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p>A karabo.error.KaraboError if the path does not exit,
or the data in the file cannot be read.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.telescope.Telescope.write_to_disk">
<span class="sig-name descname"><span class="pre">write_to_disk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#karabo.simulation.telescope.Telescope.write_to_disk" title="Link to this definition"></a></dt>
<dd><p>Write <cite>dir_path</cite> to disk (must have .tm ending).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dir</strong> – directory in which the configuration will be saved in.</p></li>
<li><p><strong>overwrite</strong> – If True an existing directory is overwritten if exists. Be
careful to put the correct dir as input because the old one can get removed!</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="karabo.simulation.interferometer.InterferometerSimulation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">InterferometerSimulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel_bandwidth_hz</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_average_sec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_time_per_samples</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">correlation_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../karabo.simulation.html#karabo.simulation.interferometer.CorrelationType" title="karabo.simulation.interferometer.CorrelationType"><span class="pre">CorrelationType</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">CorrelationType.Cross_Correlations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uv_filter_min</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uv_filter_max</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uv_filter_units</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../karabo.simulation.html#karabo.simulation.interferometer.FilterUnits" title="karabo.simulation.interferometer.FilterUnits"><span class="pre">FilterUnits</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">FilterUnits.WaveLengths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_polarised_ms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_w_components</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_enable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'time'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_start_freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000000000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_inc_freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100000000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_number_freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">24</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_rms_start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_rms_end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_rms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'Range'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'Data</span> <span class="pre">file'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'Telescope</span> <span class="pre">model'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Range'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'Range'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'Data</span> <span class="pre">file'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'Observation</span> <span class="pre">settings'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'Telescope</span> <span class="pre">model'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Range'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_array_beam</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_numerical_beam</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_gpus</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_dask</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_observation_by_channels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_split_channels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'each'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Client</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'single'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'double'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'single'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">station_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'Aperture</span> <span class="pre">array'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'Isotropic</span> <span class="pre">beam'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'Gaussian</span> <span class="pre">beam'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'VLA</span> <span class="pre">(PBCOR)'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Isotropic</span> <span class="pre">beam'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_power_pattern</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gauss_beam_fwhm_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gauss_ref_freq_hz</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ionosphere_fits_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ionosphere_screen_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ionosphere_screen_height_km</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">300</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ionosphere_screen_pixel_size_m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ionosphere_isoplanatic_screen</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#karabo.simulation.interferometer.InterferometerSimulation" title="Link to this definition"></a></dt>
<dd><p>Class containing all configuration for the Interferometer Simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channel_bandwidth_hz</strong> – The channel width, in Hz, used to simulate bandwidth
smearing. (Note that this can be different to the
frequency increment if channels do not cover a
contiguous frequency range).</p></li>
<li><p><strong>time_average_sec</strong> – The correlator time-average duration, in seconds, used
to simulate time averaging smearing.</p></li>
<li><p><strong>max_time_per_samples</strong> – The maximum number of time samples held in memory
before being written to disk.</p></li>
<li><p><strong>correlation_type</strong> – The type of correlations to produce. Any value of Enum
CorrelationType</p></li>
<li><p><strong>uv_filter_min</strong> – The minimum value of the baseline UV length allowed by the
filter. Values outside this range are not evaluated</p></li>
<li><p><strong>uv_filter_max</strong> – The maximum value of the baseline UV length allowed by the
filter. Values outside this range are not evaluated.</p></li>
<li><p><strong>uv_filter_units</strong> – The units of the baseline UV length filter values.
Any value of Enum FilterUnits</p></li>
<li><p><strong>force_polarised_ms</strong> – If True, always write the Measurement Set in polarised
format even if the simulation was run in the single
polarisation ‘Scalar’ (or Stokes-I) mode. If False,
the size of the polarisation dimension in the
Measurement Set will be determined by the simulation mode.</p></li>
<li><p><strong>ignore_w_components</strong> – If enabled, baseline W-coordinate component values will
be set to 0. This will disable W-smearing. Use only if
you know what you’re doing!</p></li>
<li><p><strong>noise_enable</strong> – If true, noise is added.</p></li>
<li><p><strong>noise_seed</strong> – Random number generator seed.</p></li>
<li><p><strong>noise_start_freq</strong> – The start frequency in Hz for which noise is included, if
noise is set to true.</p></li>
<li><p><strong>noise_inc_freq</strong> – The frequency increment in Hz, if noise is set to true.</p></li>
<li><p><strong>noise_number_freq</strong> – The number of frequency taken into account, if noise is set
to true.</p></li>
<li><p><strong>noise_rms_start</strong> – Station RMS (noise) flux density range start value, in Jy.
The range is expanded linearly over the number of frequencies
for which noise is defined.</p></li>
<li><p><strong>noise_rms_end</strong> – Station RMS (noise) flux density range end value, in Jy. The
range is expanded linearly over the number of frequencies for
which noise is defined.</p></li>
<li><p><strong>noise_rms</strong> – <p>The specifications for the RMS noise value:</p>
<ul>
<li><p>Telescope model: values are loaded from files in the telescope</p></li>
</ul>
<p>model directory.</p>
<ul>
<li><p>Data file: values are loaded from the specified file.</p></li>
<li><p>Range: values are evaluated according to the specified range</p></li>
</ul>
<p>parameters (Default). The noise values are specified in Jy and
represent the RMS noise of
an unpolarised source in terms of flux measured in a single
polarisation of the detector.</p>
</p></li>
<li><p><strong>noise_freq</strong> – <p>The list of frequencies for which noise values are defined:</p>
<ul>
<li><p>Telescope model: frequencies are loaded from a data file in</p></li>
</ul>
<p>the telescope model directory.</p>
<ul>
<li><p>Observation settings: frequencies are defined by the observation</p></li>
</ul>
<p>settings.</p>
<ul>
<li><p>Data file: frequencies are loaded from the specified data file.</p></li>
<li><p>Range: frequencies are specified by the range parameters (Default).</p></li>
</ul>
</p></li>
<li><p><strong>enable_array_beam</strong> – If true, then the contribution to the station beam from
the array pattern (given by beam-forming the antennas in
the station) is evaluated.</p></li>
<li><p><strong>enable_numerical_beam</strong> – If true, make use of any available numerical element
pattern files. If numerical pattern data are missing,
the functional type will be used instead.</p></li>
<li><p><strong>use_gpus</strong> – Set to true if you want to use gpus for the simulation</p></li>
<li><p><strong>client</strong> – The dask client to use for the simulation</p></li>
<li><p><strong>split_idxs_per_group</strong> – The indices of the sky model to split for each group
of workers. If None, the sky model will not be split.
Useful if the sky model is too large to fit into the
memory of a single worker. Group index should be
strictly monotonic increasing.</p></li>
<li><p><strong>precision</strong> – For the arithmetic use you can choose between “single” or
“double” precision</p></li>
<li><p><strong>station_type</strong> – Here you can choose the type of each station in the
interferometer. You can either disable all station beam
effects by choosing “Isotropic beam”. Or select one of the
following beam types:
“Gaussian beam”, “Aperture array” or “VLA (PBCOR)”</p></li>
<li><p><strong>enable_power_pattern</strong> – If true, gauss_beam_fwhm_deg will be taken in as
power pattern.</p></li>
<li><p><strong>gauss_beam_fwhm_deg</strong> – If you choose “Gaussian beam” as station type you need
specify the full-width half maximum value at the
reference frequency of the Gaussian beam here.
Units = degrees. If enable_power_pattern is True,
gauss_beam_fwhm_deg is in power pattern, otherwise
it is in field pattern.</p></li>
<li><p><strong>gauss_ref_freq_hz</strong> – The reference frequency of the specified FWHM, in Hz.</p></li>
<li><p><strong>ionosphere_fits_path</strong> – The path to a fits file containing an ionospheric screen
generated with ARatmospy. The file parameters
(times/frequencies) should coincide with the planned observation.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.interferometer.InterferometerSimulation.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel_bandwidth_hz</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_average_sec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_time_per_samples</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">correlation_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../karabo.simulation.html#karabo.simulation.interferometer.CorrelationType" title="karabo.simulation.interferometer.CorrelationType"><span class="pre">CorrelationType</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">CorrelationType.Cross_Correlations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uv_filter_min</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uv_filter_max</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uv_filter_units</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../karabo.simulation.html#karabo.simulation.interferometer.FilterUnits" title="karabo.simulation.interferometer.FilterUnits"><span class="pre">FilterUnits</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">FilterUnits.WaveLengths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_polarised_ms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_w_components</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_enable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'time'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_start_freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000000000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_inc_freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100000000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_number_freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">24</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_rms_start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_rms_end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_rms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'Range'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'Data</span> <span class="pre">file'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'Telescope</span> <span class="pre">model'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Range'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'Range'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'Data</span> <span class="pre">file'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'Observation</span> <span class="pre">settings'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'Telescope</span> <span class="pre">model'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Range'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_array_beam</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_numerical_beam</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_gpus</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_dask</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_observation_by_channels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_split_channels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'each'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Client</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'single'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'double'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'single'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">station_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'Aperture</span> <span class="pre">array'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'Isotropic</span> <span class="pre">beam'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'Gaussian</span> <span class="pre">beam'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'VLA</span> <span class="pre">(PBCOR)'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Isotropic</span> <span class="pre">beam'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_power_pattern</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gauss_beam_fwhm_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gauss_ref_freq_hz</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ionosphere_fits_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ionosphere_screen_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ionosphere_screen_height_km</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">300</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ionosphere_screen_pixel_size_m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ionosphere_isoplanatic_screen</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#karabo.simulation.interferometer.InterferometerSimulation.__init__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.interferometer.InterferometerSimulation.run_simulation">
<span class="sig-name descname"><span class="pre">run_simulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">telescope</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#karabo.simulation.telescope.Telescope" title="karabo.simulation.telescope.Telescope"><span class="pre">Telescope</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">sky</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel" title="karabo.simulation.sky_model.SkyModel"><span class="pre">SkyModel</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">observation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#karabo.simulation.observation.Observation" title="karabo.simulation.observation.Observation"><span class="pre">Observation</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#karabo.simulation.observation.ObservationLong" title="karabo.simulation.observation.ObservationLong"><span class="pre">ObservationLong</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">SimulatorBackend.OSKAR</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">SimulatorBackend.OSKAR</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">primary_beam</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visibility_format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'MS'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'OSKAR_VIS'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'UVFITS'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'MS'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visibility_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../karabo.simulation.html#karabo.simulation.visibility.Visibility" title="karabo.simulation.visibility.Visibility"><span class="pre">Visibility</span></a></span></span><a class="headerlink" href="#karabo.simulation.interferometer.InterferometerSimulation.run_simulation" title="Link to this definition"></a></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">run_simulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">telescope</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#karabo.simulation.telescope.Telescope" title="karabo.simulation.telescope.Telescope"><span class="pre">Telescope</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">sky</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel" title="karabo.simulation.sky_model.SkyModel"><span class="pre">SkyModel</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">observation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../karabo.simulation.html#karabo.simulation.observation.ObservationParallelized" title="karabo.simulation.observation.ObservationParallelized"><span class="pre">ObservationParallelized</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">SimulatorBackend.OSKAR</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">SimulatorBackend.OSKAR</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">primary_beam</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visibility_format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'MS'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'OSKAR_VIS'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'UVFITS'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'MS'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visibility_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../karabo.simulation.html#karabo.simulation.visibility.Visibility" title="karabo.simulation.visibility.Visibility"><span class="pre">Visibility</span></a><span class="p"><span class="pre">]</span></span></span></span></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">run_simulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">telescope</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#karabo.simulation.telescope.Telescope" title="karabo.simulation.telescope.Telescope"><span class="pre">Telescope</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">sky</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel" title="karabo.simulation.sky_model.SkyModel"><span class="pre">SkyModel</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">observation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#karabo.simulation.observation.Observation" title="karabo.simulation.observation.Observation"><span class="pre">Observation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">SimulatorBackend.RASCIL</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">primary_beam</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Image</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visibility_format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'MS'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'MS'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visibility_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../karabo.simulation.html#karabo.simulation.visibility.Visibility" title="karabo.simulation.visibility.Visibility"><span class="pre">Visibility</span></a></span></span></dt>
<dd><p>Run an interferometer simulation, generating simulated visibility data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>telescope</strong> – Telescope model defining the configuration</p></li>
<li><p><strong>sky</strong> – sky model defining the sky sources</p></li>
<li><p><strong>observation</strong> – observation settings</p></li>
<li><p><strong>backend</strong> – Simulation backend to be used</p></li>
<li><p><strong>primary_beam</strong> – Primary beam to be included into visibilities.
Currently only relevant for RASCIL.
For OSKAR, use the InterferometerSimulation constructor parameters
instead.</p></li>
<li><p><strong>visibility_format</strong> – Visibility format in which to write generated data to
disk</p></li>
<li><p><strong>visibility_path</strong> – Path for the visibility output file (OSKAR_VIS)
or directory (MS). If an observation of type ObservationParallelized
is passed, this path will be interpreted as the root directory where
the visibility files / dirs will be written to.
If None, visibilities will be written to short term cache directory.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Visibility object of the generated data or list of Visibility objects
for ObservationParallelized observations.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.interferometer.InterferometerSimulation.set_ionosphere">
<span class="sig-name descname"><span class="pre">set_ionosphere</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#karabo.simulation.interferometer.InterferometerSimulation.set_ionosphere" title="Link to this definition"></a></dt>
<dd><p>Set the path to an ionosphere screen file generated with ARatmospy. The file
parameters (times/frequencies) should coincide with the planned observation.
see <a class="reference external" href="https://github.com/timcornwell/ARatmospy">https://github.com/timcornwell/ARatmospy</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file_path</strong> – file path to fits file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.interferometer.InterferometerSimulation.simulate_foreground_vis">
<span class="sig-name descname"><span class="pre">simulate_foreground_vis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">telescope</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#karabo.simulation.telescope.Telescope" title="karabo.simulation.telescope.Telescope"><span class="pre">Telescope</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">foreground</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel" title="karabo.simulation.sky_model.SkyModel"><span class="pre">SkyModel</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">foreground_observation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#karabo.simulation.observation.Observation" title="karabo.simulation.observation.Observation"><span class="pre">Observation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">foreground_vis_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../karabo.simulation.html#karabo.simulation.visibility.Visibility" title="karabo.simulation.visibility.Visibility"><span class="pre">Visibility</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">complex128</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">VisHeader</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Binary</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">VisBlock</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">float64</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">float64</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">float64</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#karabo.simulation.interferometer.InterferometerSimulation.simulate_foreground_vis" title="Link to this definition"></a></dt>
<dd><p>Simulates foreground sources</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="karabo.simulation.east_north_coordinate.EastNorthCoordinate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">EastNorthCoordinate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_error</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_error</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_error</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#karabo.simulation.east_north_coordinate.EastNorthCoordinate" title="Link to this definition"></a></dt>
<dd><p>Class defining an east-north-(up) coordinate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – east coordinate in meters</p></li>
<li><p><strong>y</strong> – north coordinate in meters</p></li>
<li><p><strong>z</strong> – up coordinate in meters</p></li>
<li><p><strong>x_error</strong> – east coordinate error in meters</p></li>
<li><p><strong>y_error</strong> – north coordinate error in meters</p></li>
<li><p><strong>z_error</strong> – up coordinate error in meters</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="karabo.simulation.east_north_coordinate.EastNorthCoordinate.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_error</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_error</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_error</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#karabo.simulation.east_north_coordinate.EastNorthCoordinate.__init__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-karabo.simulation.line_emission">
<span id="line-emission-package"></span><h2>Line emission package<a class="headerlink" href="#module-karabo.simulation.line_emission" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="karabo.simulation.line_emission.CircleSkyRegion">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CircleSkyRegion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">center</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#karabo.simulation.line_emission.CircleSkyRegion" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="karabo.simulation.line_emission.CircleSkyRegion.center">
<span class="sig-name descname"><span class="pre">center</span></span><a class="headerlink" href="#karabo.simulation.line_emission.CircleSkyRegion.center" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="karabo.simulation.line_emission.CircleSkyRegion.radius">
<span class="sig-name descname"><span class="pre">radius</span></span><a class="headerlink" href="#karabo.simulation.line_emission.CircleSkyRegion.radius" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="karabo.simulation.line_emission.line_emission_pipeline">
<span class="sig-name descname"><span class="pre">line_emission_pipeline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_base_directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pointings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#karabo.simulation.line_emission.CircleSkyRegion" title="karabo.simulation.line_emission.CircleSkyRegion"><span class="pre">CircleSkyRegion</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sky_model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel" title="karabo.simulation.sky_model.SkyModel"><span class="pre">SkyModel</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">observation_details</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#karabo.simulation.observation.Observation" title="karabo.simulation.observation.Observation"><span class="pre">Observation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">telescope</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#karabo.simulation.telescope.Telescope" title="karabo.simulation.telescope.Telescope"><span class="pre">Telescope</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">interferometer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#karabo.simulation.interferometer.InterferometerSimulation" title="karabo.simulation.interferometer.InterferometerSimulation"><span class="pre">InterferometerSimulation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulator_backend</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../karabo.html#karabo.simulator_backend.SimulatorBackend" title="karabo.simulator_backend.SimulatorBackend"><span class="pre">SimulatorBackend</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirty_imager_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="base_imaging.html#id0" title="karabo.imaging.imager_base.DirtyImagerConfig"><span class="pre">DirtyImagerConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">primary_beams</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">float64</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../karabo.simulation.html#karabo.simulation.visibility.Visibility" title="karabo.simulation.visibility.Visibility"><span class="pre">Visibility</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="imaging.html#karabo.imaging.image.Image" title="karabo.imaging.image.Image"><span class="pre">Image</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#karabo.simulation.line_emission.line_emission_pipeline" title="Link to this definition"></a></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">line_emission_pipeline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_base_directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pointings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#karabo.simulation.line_emission.CircleSkyRegion" title="karabo.simulation.line_emission.CircleSkyRegion"><span class="pre">CircleSkyRegion</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sky_model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel" title="karabo.simulation.sky_model.SkyModel"><span class="pre">SkyModel</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">observation_details</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#karabo.simulation.observation.Observation" title="karabo.simulation.observation.Observation"><span class="pre">Observation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">telescope</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#karabo.simulation.telescope.Telescope" title="karabo.simulation.telescope.Telescope"><span class="pre">Telescope</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">interferometer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#karabo.simulation.interferometer.InterferometerSimulation" title="karabo.simulation.interferometer.InterferometerSimulation"><span class="pre">InterferometerSimulation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulator_backend</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../karabo.html#karabo.simulator_backend.SimulatorBackend" title="karabo.simulator_backend.SimulatorBackend"><span class="pre">SimulatorBackend</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirty_imager_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="base_imaging.html#id0" title="karabo.imaging.imager_base.DirtyImagerConfig"><span class="pre">DirtyImagerConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">primary_beams</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">float64</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../karabo.simulation.html#karabo.simulation.visibility.Visibility" title="karabo.simulation.visibility.Visibility"><span class="pre">Visibility</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="imaging.html#karabo.imaging.image.Image" title="karabo.imaging.image.Image"><span class="pre">Image</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">line_emission_pipeline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_base_directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pointings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#karabo.simulation.line_emission.CircleSkyRegion" title="karabo.simulation.line_emission.CircleSkyRegion"><span class="pre">CircleSkyRegion</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sky_model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#karabo.simulation.sky_model.SkyModel" title="karabo.simulation.sky_model.SkyModel"><span class="pre">SkyModel</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">observation_details</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#karabo.simulation.observation.Observation" title="karabo.simulation.observation.Observation"><span class="pre">Observation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">telescope</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#karabo.simulation.telescope.Telescope" title="karabo.simulation.telescope.Telescope"><span class="pre">Telescope</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">interferometer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#karabo.simulation.interferometer.InterferometerSimulation" title="karabo.simulation.interferometer.InterferometerSimulation"><span class="pre">InterferometerSimulation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulator_backend</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../karabo.html#karabo.simulator_backend.SimulatorBackend" title="karabo.simulator_backend.SimulatorBackend"><span class="pre">SimulatorBackend</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirty_imager_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="base_imaging.html#id0" title="karabo.imaging.imager_base.DirtyImagerConfig"><span class="pre">DirtyImagerConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">primary_beams</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">float64</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">should_perform_primary_beam_correction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../karabo.simulation.html#karabo.simulation.visibility.Visibility" title="karabo.simulation.visibility.Visibility"><span class="pre">Visibility</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="imaging.html#karabo.imaging.image.Image" title="karabo.imaging.image.Image"><span class="pre">Image</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span></dt>
<dd><p>Perform a line emission simulation, to compute visibilities and dirty images.
A line emission simulation involves assuming every source in the input SkyModel
only emits within one frequency channel.</p>
<p>If requested, include primary beam effects into the visibilities and dirty images.</p>
<p>For the actual primary beam effect in OSKAR,
set the relevant parameter in the InterferometerSimulation constructor.</p>
<p>For RASCIL, the provided primary beams are used
for the primary beam effect.</p>
</dd></dl>

<dl class="py function" id="module-karabo.simulation.line_emission_helpers">
<dt class="sig sig-object py" id="karabo.simulation.line_emission_helpers.convert_frequency_to_z">
<span class="sig-name descname"><span class="pre">convert_frequency_to_z</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_T</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_T</span></span></span><a class="headerlink" href="#karabo.simulation.line_emission_helpers.convert_frequency_to_z" title="Link to this definition"></a></dt>
<dd><p>Turn given frequency (Hz) into corresponding redshift for 21cm emission.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>freq</strong> – Frequency values to be converted into redshifts.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Redshifts corresponding to input frequencies.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="karabo.simulation.line_emission_helpers.convert_z_to_frequency">
<span class="sig-name descname"><span class="pre">convert_z_to_frequency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_T</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_T</span></span></span><a class="headerlink" href="#karabo.simulation.line_emission_helpers.convert_z_to_frequency" title="Link to this definition"></a></dt>
<dd><p>Turn given redshift into corresponding frequency (Hz) for 21cm emission.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>z</strong> – Redshift values to be converted into frequencies.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Frequencies corresponding to input redshifts.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="karabo.simulation.line_emission_helpers.freq_channels">
<span class="sig-name descname"><span class="pre">freq_channels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z_obs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_T</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_num</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">equally_spaced_freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">float64</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">float64</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">float64</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float64</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#karabo.simulation.line_emission_helpers.freq_channels" title="Link to this definition"></a></dt>
<dd><p>Calculates the frequency channels from the redshifts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>z_obs</strong> – Observed redshifts from the HI sources.</p></li>
<li><p><strong>channel_num</strong> – Number of channels.</p></li>
<li><p><strong>equally_spaced_freq</strong> – If True (default), create channels
equally spaced in frequency.
If False, create channels equally spaced in redshift.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>Redshift channels array,</p></li>
<li><p>frequency channels array (in Hz),</p></li>
<li><p>array of bin widths of frequency channel (in Hz), for convenience,         and middle frequency (in Hz)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../parallel_processing.html" class="btn btn-neutral float-left" title="Parallel processing with Karabo" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="imaging.html" class="btn btn-neutral float-right" title="karabo.imaging.image" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, i4ds.
      <span class="lastupdated">Last updated on Oct 13, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>